{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pc\\\\Desktop\\\\abir\\\\frontend\\\\src\\\\screens\\\\PlaceOrderScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants';\nimport { Link } from 'react-router-dom';\nimport { createOrder } from '../actions/orderActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PlaceOrderScreen(props) {\n  _s();\n\n  const cart = useSelector(state => state.cart);\n\n  if (!cart.paymentMethod) {\n    props.history.push('/payment');\n  }\n\n  const orderCreate = useSelector(state => state.orderCreate);\n  const {\n    loading,\n    success,\n    error,\n    order\n  } = orderCreate;\n\n  const toPrice = num => Number(num.toFixed(2));\n\n  cart.itemsPrice = toPrice(cart.cartItems.reduce((a, c) => a + c.qty * c.price, 0));\n  cart.shippingPrice = cart.itemsPrice > 100 ? toPrice(0) : toPrice(7);\n  cart.taxPrice = toPrice(0.20 * cart.itemsPrice);\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\n  const dispatch = useDispatch();\n\n  const placeOrderHandler = () => {\n    dispatch(createOrder({ ...cart,\n      orderItems: cart.cartItems\n    }));\n  };\n\n  useEffect(() => {\n    if (success) {\n      props.history.push(`/order/${order._id}`);\n      dispatch({\n        type: ORDER_CREATE_RESET\n      });\n    }\n  }, [dispatch, order, props.history, success]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CheckoutSteps, {\n      step1: true,\n      step2: true,\n      step3: true,\n      step4: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row top-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-2\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 42,\n                  columnNumber: 19\n                }, this), \" \", cart.shippingAdress.fullName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 42,\n                  columnNumber: 73\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Address: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 43,\n                  columnNumber: 19\n                }, this), \" \", cart.shippingAdress.address, \",\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \" City : \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 44,\n                  columnNumber: 19\n                }, this), \" \", cart.shippingAdress.city, \",\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \" Postal Code : \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 19\n                }, this), \" \", cart.shippingAdress.postalCode, \",\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \" Country : \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 19\n                }, this), \" \", cart.shippingAdress.country]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Method:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 19\n                }, this), \" \", cart.paymentMethod]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Order Items\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: cart.cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: item.image,\n                        alt: item.name,\n                        className: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 66,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 65,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"min-30\",\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/product/${item.product}`,\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 74,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 73,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [item.qty, \" x \", item.price, \" Dt = \", item.qty * item.price, \" Dt\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 23\n                  }, this)\n                }, item.product, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \" Order Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \" Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", cart.itemsPrice.toFixed(3), \" Dt\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \" Shipping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", cart.shippingPrice.toFixed(3), \" Dt\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \" Tax\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", cart.taxPrice.toFixed(3), \" Dt\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \" Order Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 28\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [cart.totalPrice.toFixed(3), \" Dt \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: placeOrderHandler,\n                className: \"primary block\",\n                disabled: cart.cartItems.length === 0,\n                children: \"Place Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 23\n            }, this), loading && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 37\n            }, this), error && /*#__PURE__*/_jsxDEV(MessageBox, {\n              variant: \"danger\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PlaceOrderScreen, \"j1/m5ukVp2+ikp78lKbALqPlFZs=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = PlaceOrderScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlaceOrderScreen\");","map":{"version":3,"sources":["C:/Users/Pc/Desktop/abir/frontend/src/screens/PlaceOrderScreen.js"],"names":["React","useEffect","useSelector","useDispatch","CheckoutSteps","ORDER_CREATE_RESET","Link","createOrder","LoadingBox","MessageBox","PlaceOrderScreen","props","cart","state","paymentMethod","history","push","orderCreate","loading","success","error","order","toPrice","num","Number","toFixed","itemsPrice","cartItems","reduce","a","c","qty","price","shippingPrice","taxPrice","totalPrice","dispatch","placeOrderHandler","orderItems","_id","type","shippingAdress","fullName","address","city","postalCode","country","map","item","image","name","product","length"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport {useSelector,useDispatch} from'react-redux';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants';\r\nimport {Link} from 'react-router-dom';\r\nimport {createOrder} from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function PlaceOrderScreen(props) {\r\n    const cart = useSelector(state => state.cart);\r\n    if (!cart.paymentMethod){\r\n        props.history.push('/payment');\r\n    }\r\n    const orderCreate = useSelector((state) => state.orderCreate);\r\n    const { loading, success, error, order } = orderCreate;\r\n    const toPrice = (num) => Number(num.toFixed(2));\r\n    cart.itemsPrice = toPrice(cart.cartItems.reduce((a, c) => a + c.qty * c.price, 0))\r\n    cart.shippingPrice = cart.itemsPrice > 100 ? toPrice(0) : toPrice(7);\r\n    cart.taxPrice = toPrice(0.20 * cart.itemsPrice);\r\n    cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n    const dispatch= useDispatch ();\r\n    const placeOrderHandler = () => {\r\n      dispatch(createOrder({ ...cart, orderItems: cart.cartItems }));\r\n    };\r\n    useEffect(() => {\r\n      if (success) {\r\n        props.history.push(`/order/${order._id}`);\r\n        dispatch({ type: ORDER_CREATE_RESET });\r\n      }\r\n    }, [dispatch, order, props.history, success]);\r\n    return (\r\n        <div>\r\n            <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\r\n            <div className=\"row top-left\">\r\n                <div className=\"col-2\">\r\n                <ul>\r\n            <li>\r\n              <div className=\"cart card-body\">\r\n                <h2>Shipping</h2>\r\n                <p>\r\n                  <strong>Name:</strong> {cart.shippingAdress.fullName} <br />\r\n                  <strong>Address: </strong> {cart.shippingAdress.address},\r\n                  <strong> City : </strong> {cart.shippingAdress.city}, \r\n                  <strong> Postal Code : </strong> {cart.shippingAdress.postalCode},\r\n                  <strong> Country : </strong> {cart.shippingAdress.country}\r\n                </p>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"cart card-body\">\r\n                <h2>Payment</h2>\r\n                <p>\r\n                  <strong>Method:</strong> {cart.paymentMethod}\r\n                </p>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"cart card-body\">\r\n                <h2>Order Items</h2>\r\n                <ul>\r\n                  {cart.cartItems.map((item) => (\r\n                    <li key={item.product}>\r\n                      <div className=\"row\">\r\n                        <div>\r\n                          <img\r\n                            src={item.image}\r\n                            alt={item.name}\r\n                            className=\"small\"\r\n                          ></img>\r\n                        </div>\r\n\r\n                        <div className=\"min-30\">\r\n                          <Link to={`/product/${item.product}`}>\r\n                            {item.name}\r\n                          </Link>\r\n                        </div>\r\n\r\n                        <div>\r\n                          {item.qty} x {item.price} Dt = {item.qty * item.price} Dt\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                  <div className=\"cart card-body\">\r\n                    <ul>\r\n                      <li>\r\n                        <h2> Order Summary</h2>\r\n                      </li>\r\n                      <li>\r\n                        <div className=\"row\">\r\n                          <div> Items</div>  \r\n                          <div> {cart.itemsPrice.toFixed(3 )} Dt</div>\r\n                        </div>\r\n                      </li>\r\n                      <li>\r\n                        <div className=\"row\">\r\n                          <div> Shipping</div>  \r\n                          <div> {cart.shippingPrice.toFixed(3)} Dt</div>\r\n                        </div>\r\n                      </li>\r\n                      <li>\r\n                        <div className=\"row\">\r\n                          <div> Tax</div>  \r\n                          <div> {cart.taxPrice.toFixed(3)} Dt</div>\r\n                        </div>\r\n                      </li>\r\n                      <li>\r\n                        <div className=\"row\">\r\n                          <div> \r\n                           <strong> Order Total</strong>\r\n                            </div>  \r\n                          <div>\r\n                        <strong>{cart.totalPrice.toFixed(3)} Dt </strong>\r\n                             </div>\r\n                        </div>\r\n                      </li>\r\n                      <li>\r\n                        <button\r\n                        type=\"button\"\r\n                        onClick={placeOrderHandler}\r\n                        className=\"primary block\"\r\n                        disabled={cart.cartItems.length === 0}\r\n                      >\r\n                        Place Order\r\n                        </button>\r\n                        </li>\r\n                        {loading && <LoadingBox></LoadingBox>}\r\n              {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}