{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{deleteUser,listUsers}from\"../actions/userActions\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{USER_DETAILS_RESET}from\"../constants/userConstants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserListScreen(props){var userList=useSelector(function(state){return state.userList;});var loading=userList.loading,error=userList.error,users=userList.users;var userDelete=useSelector(function(state){return state.userDelete;});var loadingDelete=userDelete.loading,errorDelete=userDelete.error,successDelete=userDelete.success;var dispatch=useDispatch();useEffect(function(){dispatch(listUsers());dispatch({type:USER_DETAILS_RESET});},[dispatch,successDelete]);var deleteHandler=function deleteHandler(user){if(window.confirm('Are you sure?')){dispatch(deleteUser(user._id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-users\"}),/*#__PURE__*/_jsx(\"span\",{className:\"weight\",children:\" Users \"})]}),/*#__PURE__*/_jsx(\"br\",{}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),successDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"success\",children:\"User Deleted Successfully\"}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"IS ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?'YES':'NO'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"small edit\",onClick:function onClick(){return props.history.push(\"/user/\".concat(user._id,\"/edit\"));},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-pencil\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Edit \"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"small delete\",onClick:function onClick(){return deleteHandler(user);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash-o\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Delete \"})]})]})]},user._id);})})]})]});}","map":{"version":3,"sources":["C:/Users/Pc/Desktop/abir/frontend/src/screens/UserListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","deleteUser","listUsers","LoadingBox","MessageBox","USER_DETAILS_RESET","UserListScreen","props","userList","state","loading","error","users","userDelete","loadingDelete","errorDelete","successDelete","success","dispatch","type","deleteHandler","user","window","confirm","_id","map","name","email","isAdmin","history","push"],"mappings":"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","sourcesContent":["import React,{ useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteUser, listUsers } from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { USER_DETAILS_RESET } from \"../constants/userConstants\";\r\n\r\nexport default function UserListScreen(props) {\r\n    const userList = useSelector((state) => state.userList);\r\n    const { loading, error, users } = userList;\r\n\r\n    const userDelete = useSelector((state) => state.userDelete);\r\n    const {\r\n      loading: loadingDelete,\r\n      error: errorDelete,\r\n      success: successDelete,\r\n    } = userDelete;\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n      dispatch(listUsers());\r\n      dispatch({\r\n        type: USER_DETAILS_RESET,\r\n      });\r\n    }, [dispatch, successDelete]);\r\n    const deleteHandler = (user) => {\r\n      if (window.confirm('Are you sure?')) {\r\n        dispatch(deleteUser(user._id));\r\n      }\r\n    };\r\n    return (\r\n      <div>\r\n        <div>\r\n        <i class=\"fa fa-users\" ></i>  \r\n        <span className=\"weight\"> Users </span>\r\n         </div>\r\n         <br/>\r\n        {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n      {successDelete && (\r\n        <MessageBox variant=\"success\">User Deleted Successfully</MessageBox>\r\n      )}\r\n        {loading ? (\r\n          <LoadingBox></LoadingBox>\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>EMAIL</th>\r\n                \r\n                <th>IS ADMIN</th>\r\n                <th>ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.map((user) => (\r\n                <tr key={user._id}>\r\n                  <td>{user._id}</td>\r\n                  <td>{user.name}</td>\r\n                  <td>{user.email}</td>\r\n                  <td>{user.isAdmin ? 'YES' : 'NO'}</td>\r\n                  <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small edit\"\r\n                    onClick={() => props.history.push(`/user/${user._id}/edit`)}\r\n                  >\r\n                    <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\r\n                   <span> Edit </span>\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small delete\"\r\n                    onClick={() => deleteHandler(user)}\r\n                  >\r\n                    <i className=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\r\n                   <span> Delete </span>\r\n                  </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    );\r\n  }"]},"metadata":{},"sourceType":"module"}