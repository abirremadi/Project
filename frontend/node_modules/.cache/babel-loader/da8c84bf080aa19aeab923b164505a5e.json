{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{createProduct,deleteProduct,listProducts}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{PRODUCT_CREATE_RESET,PRODUCT_DELETE_RESET}from'../constants/productConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductListScreen(props){var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var dispatch=useDispatch();useEffect(function(){if(successCreate){dispatch({type:PRODUCT_CREATE_RESET});props.history.push(\"/product/\".concat(createdProduct._id,\"/edit\"));}if(successDelete){dispatch({type:PRODUCT_DELETE_RESET});}dispatch(listProducts());},[createdProduct,dispatch,props.history,successCreate,successDelete]);var deleteHandler=function deleteHandler(product){if(window.confirm('Are you sure to delete?')){dispatch(deleteProduct(product._id));}};var createHandler=function createHandler(){dispatch(createProduct());};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"primary\",onClick:createHandler,children:\"Create Product\"})]}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(LoadingBox,{}),errorCreate&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorCreate}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"small edit\",onClick:function onClick(){return props.history.push(\"/product/\".concat(product._id,\"/edit\"));},children:[/*#__PURE__*/_jsx(\"i\",{className:\" fa fa-pencil\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Edit \"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"small delete\",onClick:function onClick(){return deleteHandler(product);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash-o\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Delete\"})]})]})]},product._id);})})]})]});}","map":{"version":3,"sources":["C:/Users/Pc/Desktop/abir/frontend/src/screens/ProductListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","createProduct","deleteProduct","listProducts","LoadingBox","MessageBox","PRODUCT_CREATE_RESET","PRODUCT_DELETE_RESET","ProductListScreen","props","productList","state","loading","error","products","productCreate","loadingCreate","errorCreate","successCreate","success","createdProduct","product","productDelete","loadingDelete","errorDelete","successDelete","dispatch","type","history","push","_id","deleteHandler","window","confirm","createHandler","map","name","price","category"],"mappings":"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","sourcesContent":["\r\nimport React , {useEffect} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createProduct, deleteProduct, listProducts } from '../actions/productActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { PRODUCT_CREATE_RESET, PRODUCT_DELETE_RESET } from '../constants/productConstants';\r\n\r\n\r\nexport default function ProductListScreen(props) {\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, error, products } = productList;\r\n\r\n  const productCreate = useSelector((state) => state.productCreate);\r\n  const {\r\n    loading: loadingCreate,\r\n    error: errorCreate,\r\n    success: successCreate,\r\n    product: createdProduct,\r\n  } = productCreate;\r\n\r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = productDelete;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (successCreate) {\r\n      dispatch({ type: PRODUCT_CREATE_RESET });\r\n      props.history.push(`/product/${createdProduct._id}/edit`);\r\n    }\r\n    if (successDelete) {\r\n      dispatch({ type: PRODUCT_DELETE_RESET });\r\n    }\r\n    dispatch(listProducts());\r\n  }, [createdProduct, dispatch, props.history, successCreate, successDelete]);\r\n\r\n  const deleteHandler = (product) => {\r\n    if (window.confirm('Are you sure to delete?')) {\r\n      dispatch(deleteProduct(product._id));\r\n    }\r\n  };\r\n\r\n  const createHandler = () => {\r\n    dispatch(createProduct());\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      \r\n\r\n      <div className=\"row\">\r\n        <h1>Products</h1>\r\n        <button type=\"button\" className=\"primary\" onClick={createHandler}>\r\n          Create Product\r\n        </button>\r\n      </div>\r\n\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n\r\n      {loadingCreate && <LoadingBox></LoadingBox>}\r\n      {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\r\n\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>NAME</th>\r\n              <th>PRICE</th>\r\n              <th>CATEGORY</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product) => (\r\n              <tr key={product._id}>\r\n                <td>{product._id}</td>\r\n                <td>{product.name}</td>\r\n                <td>{product.price}</td>\r\n                <td>{product.category}</td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small edit\"\r\n                    onClick={() =>\r\n                      props.history.push(`/product/${product._id}/edit`)\r\n                    }\r\n                  >\r\n                    <i className=\" fa fa-pencil\" aria-hidden=\"true\"></i>\r\n                   <span> Edit </span>\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small delete\"\r\n                    onClick={() => deleteHandler(product)}\r\n                  >\r\n                    <i className=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\r\n                   <span> Delete</span>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}